function cov_165rpzmkt2(){var path="E:\\andela\\New Andela\\MY BRAND\\SERVER\\src\\controllers\\BlogController.js";var hash="263095cde00091974285135ffc648e1a05b8085b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\andela\\New Andela\\MY BRAND\\SERVER\\src\\controllers\\BlogController.js",statementMap:{"0":{start:{line:3,column:4},end:{line:3,column:22}},"1":{start:{line:4,column:14},end:{line:4,column:40}},"2":{start:{line:5,column:13},end:{line:5,column:39}},"3":{start:{line:9,column:4},end:{line:9,column:34}},"4":{start:{line:12,column:18},end:{line:12,column:65}},"5":{start:{line:13,column:17},end:{line:18,column:5}},"6":{start:{line:19,column:23},end:{line:19,column:37}},"7":{start:{line:20,column:4},end:{line:29,column:5}},"8":{start:{line:21,column:24},end:{line:21,column:47}},"9":{start:{line:22,column:6},end:{line:26,column:9}},"10":{start:{line:28,column:6},end:{line:28,column:34}},"11":{start:{line:32,column:30},end:{line:34,column:6}},"12":{start:{line:35,column:21},end:{line:35,column:52}},"13":{start:{line:36,column:4},end:{line:36,column:32}},"14":{start:{line:37,column:4},end:{line:52,column:7}},"15":{start:{line:40,column:6},end:{line:51,column:7}},"16":{start:{line:41,column:8},end:{line:45,column:11}},"17":{start:{line:47,column:8},end:{line:50,column:11}},"18":{start:{line:55,column:21},end:{line:55,column:38}},"19":{start:{line:56,column:4},end:{line:60,column:8}},"20":{start:{line:63,column:17},end:{line:63,column:64}},"21":{start:{line:64,column:30},end:{line:66,column:6}},"22":{start:{line:67,column:21},end:{line:67,column:52}},"23":{start:{line:68,column:4},end:{line:68,column:32}},"24":{start:{line:69,column:21},end:{line:76,column:5}},"25":{start:{line:77,column:4},end:{line:96,column:7}},"26":{start:{line:84,column:6},end:{line:95,column:7}},"27":{start:{line:85,column:8},end:{line:89,column:11}},"28":{start:{line:91,column:8},end:{line:94,column:11}},"29":{start:{line:99,column:4},end:{line:113,column:5}},"30":{start:{line:100,column:25},end:{line:102,column:8}},"31":{start:{line:103,column:6},end:{line:107,column:10}},"32":{start:{line:109,column:6},end:{line:112,column:10}},"33":{start:{line:116,column:0},end:{line:116,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:33},end:{line:30,column:3}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:35},end:{line:53,column:3}},line:31},"2":{name:"(anonymous_2)",decl:{start:{line:39,column:7},end:{line:39,column:8}},loc:{start:{line:39,column:22},end:{line:52,column:5}},line:39},"3":{name:"(anonymous_3)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:34},end:{line:61,column:3}},line:54},"4":{name:"(anonymous_4)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:36},end:{line:97,column:3}},line:62},"5":{name:"(anonymous_5)",decl:{start:{line:83,column:7},end:{line:83,column:8}},loc:{start:{line:83,column:22},end:{line:96,column:5}},line:83},"6":{name:"(anonymous_6)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:34},end:{line:114,column:3}},line:98}},branchMap:{"0":{loc:{start:{line:40,column:6},end:{line:51,column:7}},type:"if",locations:[{start:{line:40,column:6},end:{line:51,column:7}},{start:{line:40,column:6},end:{line:51,column:7}}],line:40},"1":{loc:{start:{line:84,column:6},end:{line:95,column:7}},type:"if",locations:[{start:{line:84,column:6},end:{line:95,column:7}},{start:{line:84,column:6},end:{line:95,column:7}}],line:84}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0]},inputSourceMap:{version:3,names:["request","require","Blogs","Blog","uploadImage","deleteImage","BlogController","AddBlog","req","res","image","file","path","data","title","body","content","url","cloudinary_id","publicId","AddNewBlog","savedBlog","save","status","json","message","error","deletBlog","blogToDeleteImage","findOne","_id","params","id","deleteOne","err","blog","findData","blogList","find","send","updateBlog","blogData","public_id","date","Date","findOneAndUpdate","$set","new","code","UpdatedBlog","FindById","searchBlog","module","exports"],sourceRoot:"E:\\andela\\New Andela\\MY BRAND\\SERVER\\src\\controllers\\",sources:["BlogController.js"],sourcesContent:["const { request } = require(\"express\");\r\nconst Blogs = require(\"../models/Blogs\");\r\nconst Blog=require(\"../models/Blogs\");\r\n\r\nconst {uploadImage,deleteImage} =require(\"../utils/cloudinary\");\r\nclass BlogController{\r\n    static async AddBlog(req,res){\r\n       \r\n        const image = await uploadImage(req.file.path, \"blog_images\")\r\n\r\n\r\n        const data={\r\n            title: req.body.title,\r\n            content: req.body.content,\r\n            image: image.url,\r\n            cloudinary_id: image.publicId\r\n        }\r\n        const AddNewBlog=new Blog(data);\r\n    try {\r\n\r\n        const savedBlog=await AddNewBlog.save();\r\n       return res.status(201).json({\r\n            status:201,\r\n            message:\"Article Added in Blog\",\r\n            data:savedBlog\r\n        });  \r\n    } catch (error) {\r\n        res.status(500).json(error)\r\n        \r\n    }\r\n    }\r\n\r\n    static async deletBlog(req,res){\r\n        const blogToDeleteImage = await Blogs.findOne({ _id: req.params.id })\r\n        const publicId = blogToDeleteImage.cloudinary_id\r\n        await deleteImage(publicId)\r\n        Blogs.deleteOne( { _id: req.params.id }, (err, blog) => {\r\n            if (!err) {\r\n                res.status(200).json({\r\n                    status: 200,\r\n                    message: \"Deleted Successfull \",\r\n                    data:blog\r\n                    \r\n                 })\r\n            } else {\r\n                res.status(404).json({\r\n                    status: 404,\r\n                    message: \"Blog to Delete Not Found\",\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    static async findData(req,res){\r\n        const blogList = await Blog.find()\r\n        res.send(\r\n            res.status(200).json({\r\n                status:200,\r\n                message:\"List of Blogs\",\r\n                data:blogList\r\n            }) \r\n        )\r\n    }\r\n\r\n    static async updateBlog(req,res){\r\n        const data = await uploadImage(req.file.path, \"blog_images\")\r\n        const blogToDeleteImage = await Blogs.findOne({ _id: req.params.id })\r\n        const publicId = blogToDeleteImage.cloudinary_id\r\n        await deleteImage(publicId)\r\n        const blogData = {\r\n            title : req.body.title,\r\n            image : req.body.image,\r\n            content : req.body.content,\r\n            cloudinary_id: data.public_id,\r\n            image: data.url,\r\n            date : new Date()\r\n        }\r\n        \r\n        Blogs.findOneAndUpdate( { _id:  req.params.id },{ $set:blogData },{ new:true }, (err,blog) => {\r\n            if (!err) {\r\n                res.status(200).json({\r\n                    code: 200,\r\n                    message: \"Blog updated\",\r\n                    UpdatedBlog: blog,\r\n                })\r\n            } else {\r\n                res.status(404).json({\r\n                    code: 404,\r\n                    message: \"Blog to Update not found\",\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    static async FindById(req,res){\r\n        try {\r\n            const searchBlog = await Blog.findOne({ _id: req.params.id })\r\n            res.send( res.status(200).json({\r\n                status:200,\r\n                message:\"Your Blogs\",\r\n                data:searchBlog\r\n            }) )\r\n        } catch (error) {\r\n            res.send( res.status(404).json({\r\n                status:404,\r\n                error:\"Blogs doesn't exist!\",\r\n            }) \r\n            )\r\n        }\r\n      \r\n    }\r\n}\r\nmodule.exports =BlogController;"],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"263095cde00091974285135ffc648e1a05b8085b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_165rpzmkt2=function(){return actualCoverage;};}return actualCoverage;}cov_165rpzmkt2();const{request}=(cov_165rpzmkt2().s[0]++,require("express"));const Blogs=(cov_165rpzmkt2().s[1]++,require("../models/Blogs"));const Blog=(cov_165rpzmkt2().s[2]++,require("../models/Blogs"));const{uploadImage,deleteImage}=(cov_165rpzmkt2().s[3]++,require("../utils/cloudinary"));class BlogController{static async AddBlog(req,res){cov_165rpzmkt2().f[0]++;const image=(cov_165rpzmkt2().s[4]++,await uploadImage(req.file.path,"blog_images"));const data=(cov_165rpzmkt2().s[5]++,{title:req.body.title,content:req.body.content,image:image.url,cloudinary_id:image.publicId});const AddNewBlog=(cov_165rpzmkt2().s[6]++,new Blog(data));cov_165rpzmkt2().s[7]++;try{const savedBlog=(cov_165rpzmkt2().s[8]++,await AddNewBlog.save());cov_165rpzmkt2().s[9]++;return res.status(201).json({status:201,message:"Article Added in Blog",data:savedBlog});}catch(error){cov_165rpzmkt2().s[10]++;res.status(500).json(error);}}static async deletBlog(req,res){cov_165rpzmkt2().f[1]++;const blogToDeleteImage=(cov_165rpzmkt2().s[11]++,await Blogs.findOne({_id:req.params.id}));const publicId=(cov_165rpzmkt2().s[12]++,blogToDeleteImage.cloudinary_id);cov_165rpzmkt2().s[13]++;await deleteImage(publicId);cov_165rpzmkt2().s[14]++;Blogs.deleteOne({_id:req.params.id},(err,blog)=>{cov_165rpzmkt2().f[2]++;cov_165rpzmkt2().s[15]++;if(!err){cov_165rpzmkt2().b[0][0]++;cov_165rpzmkt2().s[16]++;res.status(200).json({status:200,message:"Deleted Successfull ",data:blog});}else{cov_165rpzmkt2().b[0][1]++;cov_165rpzmkt2().s[17]++;res.status(404).json({status:404,message:"Blog to Delete Not Found"});}});}static async findData(req,res){cov_165rpzmkt2().f[3]++;const blogList=(cov_165rpzmkt2().s[18]++,await Blog.find());cov_165rpzmkt2().s[19]++;res.send(res.status(200).json({status:200,message:"List of Blogs",data:blogList}));}static async updateBlog(req,res){cov_165rpzmkt2().f[4]++;const data=(cov_165rpzmkt2().s[20]++,await uploadImage(req.file.path,"blog_images"));const blogToDeleteImage=(cov_165rpzmkt2().s[21]++,await Blogs.findOne({_id:req.params.id}));const publicId=(cov_165rpzmkt2().s[22]++,blogToDeleteImage.cloudinary_id);cov_165rpzmkt2().s[23]++;await deleteImage(publicId);const blogData=(cov_165rpzmkt2().s[24]++,{title:req.body.title,image:req.body.image,content:req.body.content,cloudinary_id:data.public_id,image:data.url,date:new Date()});cov_165rpzmkt2().s[25]++;Blogs.findOneAndUpdate({_id:req.params.id},{$set:blogData},{new:true},(err,blog)=>{cov_165rpzmkt2().f[5]++;cov_165rpzmkt2().s[26]++;if(!err){cov_165rpzmkt2().b[1][0]++;cov_165rpzmkt2().s[27]++;res.status(200).json({code:200,message:"Blog updated",UpdatedBlog:blog});}else{cov_165rpzmkt2().b[1][1]++;cov_165rpzmkt2().s[28]++;res.status(404).json({code:404,message:"Blog to Update not found"});}});}static async FindById(req,res){cov_165rpzmkt2().f[6]++;cov_165rpzmkt2().s[29]++;try{const searchBlog=(cov_165rpzmkt2().s[30]++,await Blog.findOne({_id:req.params.id}));cov_165rpzmkt2().s[31]++;res.send(res.status(200).json({status:200,message:"Your Blogs",data:searchBlog}));}catch(error){cov_165rpzmkt2().s[32]++;res.send(res.status(404).json({status:404,error:"Blogs doesn't exist!"}));}}}cov_165rpzmkt2().s[33]++;module.exports=BlogController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsIkJsb2dzIiwiQmxvZyIsInVwbG9hZEltYWdlIiwiZGVsZXRlSW1hZ2UiLCJCbG9nQ29udHJvbGxlciIsIkFkZEJsb2ciLCJyZXEiLCJyZXMiLCJpbWFnZSIsImZpbGUiLCJwYXRoIiwiZGF0YSIsInRpdGxlIiwiYm9keSIsImNvbnRlbnQiLCJ1cmwiLCJjbG91ZGluYXJ5X2lkIiwicHVibGljSWQiLCJBZGROZXdCbG9nIiwic2F2ZWRCbG9nIiwic2F2ZSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJkZWxldEJsb2ciLCJibG9nVG9EZWxldGVJbWFnZSIsImZpbmRPbmUiLCJfaWQiLCJwYXJhbXMiLCJpZCIsImRlbGV0ZU9uZSIsImVyciIsImJsb2ciLCJmaW5kRGF0YSIsImJsb2dMaXN0IiwiZmluZCIsInNlbmQiLCJ1cGRhdGVCbG9nIiwiYmxvZ0RhdGEiLCJwdWJsaWNfaWQiLCJkYXRlIiwiRGF0ZSIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwibmV3IiwiY29kZSIsIlVwZGF0ZWRCbG9nIiwiRmluZEJ5SWQiLCJzZWFyY2hCbG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRTpcXGFuZGVsYVxcTmV3IEFuZGVsYVxcTVkgQlJBTkRcXFNFUlZFUlxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJCbG9nQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJlcXVlc3QgfSA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBCbG9ncyA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvQmxvZ3NcIik7XHJcbmNvbnN0IEJsb2c9cmVxdWlyZShcIi4uL21vZGVscy9CbG9nc1wiKTtcclxuXHJcbmNvbnN0IHt1cGxvYWRJbWFnZSxkZWxldGVJbWFnZX0gPXJlcXVpcmUoXCIuLi91dGlscy9jbG91ZGluYXJ5XCIpO1xyXG5jbGFzcyBCbG9nQ29udHJvbGxlcntcclxuICAgIHN0YXRpYyBhc3luYyBBZGRCbG9nKHJlcSxyZXMpe1xyXG4gICAgICAgXHJcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCB1cGxvYWRJbWFnZShyZXEuZmlsZS5wYXRoLCBcImJsb2dfaW1hZ2VzXCIpXHJcblxyXG5cclxuICAgICAgICBjb25zdCBkYXRhPXtcclxuICAgICAgICAgICAgdGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxyXG4gICAgICAgICAgICBjb250ZW50OiByZXEuYm9keS5jb250ZW50LFxyXG4gICAgICAgICAgICBpbWFnZTogaW1hZ2UudXJsLFxyXG4gICAgICAgICAgICBjbG91ZGluYXJ5X2lkOiBpbWFnZS5wdWJsaWNJZFxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBBZGROZXdCbG9nPW5ldyBCbG9nKGRhdGEpO1xyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgY29uc3Qgc2F2ZWRCbG9nPWF3YWl0IEFkZE5ld0Jsb2cuc2F2ZSgpO1xyXG4gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgICAgc3RhdHVzOjIwMSxcclxuICAgICAgICAgICAgbWVzc2FnZTpcIkFydGljbGUgQWRkZWQgaW4gQmxvZ1wiLFxyXG4gICAgICAgICAgICBkYXRhOnNhdmVkQmxvZ1xyXG4gICAgICAgIH0pOyAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycm9yKVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBkZWxldEJsb2cocmVxLHJlcyl7XHJcbiAgICAgICAgY29uc3QgYmxvZ1RvRGVsZXRlSW1hZ2UgPSBhd2FpdCBCbG9ncy5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pXHJcbiAgICAgICAgY29uc3QgcHVibGljSWQgPSBibG9nVG9EZWxldGVJbWFnZS5jbG91ZGluYXJ5X2lkXHJcbiAgICAgICAgYXdhaXQgZGVsZXRlSW1hZ2UocHVibGljSWQpXHJcbiAgICAgICAgQmxvZ3MuZGVsZXRlT25lKCB7IF9pZDogcmVxLnBhcmFtcy5pZCB9LCAoZXJyLCBibG9nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJEZWxldGVkIFN1Y2Nlc3NmdWxsIFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6YmxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiA0MDQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJCbG9nIHRvIERlbGV0ZSBOb3QgRm91bmRcIixcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBmaW5kRGF0YShyZXEscmVzKXtcclxuICAgICAgICBjb25zdCBibG9nTGlzdCA9IGF3YWl0IEJsb2cuZmluZCgpXHJcbiAgICAgICAgcmVzLnNlbmQoXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czoyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiTGlzdCBvZiBCbG9nc1wiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTpibG9nTGlzdFxyXG4gICAgICAgICAgICB9KSBcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIHVwZGF0ZUJsb2cocmVxLHJlcyl7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHVwbG9hZEltYWdlKHJlcS5maWxlLnBhdGgsIFwiYmxvZ19pbWFnZXNcIilcclxuICAgICAgICBjb25zdCBibG9nVG9EZWxldGVJbWFnZSA9IGF3YWl0IEJsb2dzLmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSlcclxuICAgICAgICBjb25zdCBwdWJsaWNJZCA9IGJsb2dUb0RlbGV0ZUltYWdlLmNsb3VkaW5hcnlfaWRcclxuICAgICAgICBhd2FpdCBkZWxldGVJbWFnZShwdWJsaWNJZClcclxuICAgICAgICBjb25zdCBibG9nRGF0YSA9IHtcclxuICAgICAgICAgICAgdGl0bGUgOiByZXEuYm9keS50aXRsZSxcclxuICAgICAgICAgICAgaW1hZ2UgOiByZXEuYm9keS5pbWFnZSxcclxuICAgICAgICAgICAgY29udGVudCA6IHJlcS5ib2R5LmNvbnRlbnQsXHJcbiAgICAgICAgICAgIGNsb3VkaW5hcnlfaWQ6IGRhdGEucHVibGljX2lkLFxyXG4gICAgICAgICAgICBpbWFnZTogZGF0YS51cmwsXHJcbiAgICAgICAgICAgIGRhdGUgOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEJsb2dzLmZpbmRPbmVBbmRVcGRhdGUoIHsgX2lkOiAgcmVxLnBhcmFtcy5pZCB9LHsgJHNldDpibG9nRGF0YSB9LHsgbmV3OnRydWUgfSwgKGVycixibG9nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQmxvZyB1cGRhdGVkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgVXBkYXRlZEJsb2c6IGJsb2csXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwNCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkJsb2cgdG8gVXBkYXRlIG5vdCBmb3VuZFwiLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIEZpbmRCeUlkKHJlcSxyZXMpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaEJsb2cgPSBhd2FpdCBCbG9nLmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSlcclxuICAgICAgICAgICAgcmVzLnNlbmQoIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czoyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiWW91ciBCbG9nc1wiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTpzZWFyY2hCbG9nXHJcbiAgICAgICAgICAgIH0pIClcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc2VuZCggcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOjQwNCxcclxuICAgICAgICAgICAgICAgIGVycm9yOlwiQmxvZ3MgZG9lc24ndCBleGlzdCFcIixcclxuICAgICAgICAgICAgfSkgXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID1CbG9nQ29udHJvbGxlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUE7QUFBUSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDdEMsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDeEMsTUFB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
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNqQndCLElBQUksQ0FBRSxHQUFHLENBQ1R2QixPQUFPLENBQUUsY0FBYyxDQUN2QndCLFdBQVcsQ0FBRWQsSUFDakIsQ0FBQyxDQUFDLENBQ04sQ0FBQyxJQUFNLHFEQUNIMUIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUNqQndCLElBQUksQ0FBRSxHQUFHLENBQ1R2QixPQUFPLENBQUUsMEJBQ2IsQ0FBQyxDQUFDLENBQ04sQ0FDSixDQUFDLENBQUMsQ0FDTixDQUVBLFlBQWF5QixTQUFRLENBQUMxQyxHQUFHLENBQUNDLEdBQUcsQ0FBQyxrREFDMUIsR0FBSSxDQUNBLEtBQU0wQyxXQUFVLDJCQUFHLEtBQU1oRCxLQUFJLENBQUMwQixPQUFPLENBQUMsQ0FBRUMsR0FBRyxDQUFFdEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDQyxFQUFHLENBQUMsQ0FBQywyQkFDN0R2QixHQUFHLENBQUM4QixJQUFJLENBQUU5QixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQzNCRCxNQUFNLENBQUMsR0FBRyxDQUNWRSxPQUFPLENBQUMsWUFBWSxDQUNwQlosSUFBSSxDQUFDc0MsVUFDVCxDQUFDLENBQUMsQ0FBRSxDQUNSLENBQUUsTUFBT3pCLEtBQUssQ0FBRSwwQkFDWmpCLEdBQUcsQ0FBQzhCLElBQUksQ0FBRTlCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FDM0JELE1BQU0sQ0FBQyxHQUFHLENBQ1ZHLEtBQUssQ0FBQyxzQkFDVixDQUFDLENBQUMsQ0FDRCxDQUNMLENBRUosQ0FDSiwwQkFDQTBCLE1BQU0sQ0FBQ0MsT0FBTyxDQUFFL0MsY0FBYyIsIm5hbWVzIjpbInJlcXVlc3QiLCJyZXF1aXJlIiwiQmxvZ3MiLCJCbG9nIiwidXBsb2FkSW1hZ2UiLCJkZWxldGVJbWFnZSIsIkJsb2dDb250cm9sbGVyIiwiQWRkQmxvZyIsInJlcSIsInJlcyIsImltYWdlIiwiZmlsZSIsInBhdGgiLCJkYXRhIiwidGl0bGUiLCJib2R5IiwiY29udGVudCIsInVybCIsImNsb3VkaW5hcnlfaWQiLCJwdWJsaWNJZCIsIkFkZE5ld0Jsb2ciLCJzYXZlZEJsb2ciLCJzYXZlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsImRlbGV0QmxvZyIsImJsb2dUb0RlbGV0ZUltYWdlIiwiZmluZE9uZSIsIl9pZCIsInBhcmFtcyIsImlkIiwiZGVsZXRlT25lIiwiZXJyIiwiYmxvZyIsImZpbmREYXRhIiwiYmxvZ0xpc3QiLCJmaW5kIiwic2VuZCIsInVwZGF0ZUJsb2ciLCJibG9nRGF0YSIsInB1YmxpY19pZCIsImRhdGUiLCJEYXRlIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRzZXQiLCJuZXciLCJjb2RlIiwiVXBkYXRlZEJsb2ciLCJGaW5kQnlJZCIsInNlYXJjaEJsb2ciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJFOlxcYW5kZWxhXFxOZXcgQW5kZWxhXFxNWSBCUkFORFxcU0VSVkVSXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkJsb2dDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgcmVxdWVzdCB9ID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IEJsb2dzID0gcmVxdWlyZShcIi4uL21vZGVscy9CbG9nc1wiKTtcclxuY29uc3QgQmxvZz1yZXF1aXJlKFwiLi4vbW9kZWxzL0Jsb2dzXCIpO1xyXG5cclxuY29uc3Qge3VwbG9hZEltYWdlLGRlbGV0ZUltYWdlfSA9cmVxdWlyZShcIi4uL3V0aWxzL2Nsb3VkaW5hcnlcIik7XHJcbmNsYXNzIEJsb2dDb250cm9sbGVye1xyXG4gICAgc3RhdGljIGFzeW5jIEFkZEJsb2cocmVxLHJlcyl7XHJcbiAgICAgICBcclxuICAgICAgICBjb25zdCBpbWFnZSA9IGF3YWl0IHVwbG9hZEltYWdlKHJlcS5maWxlLnBhdGgsIFwiYmxvZ19pbWFnZXNcIilcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGE9e1xyXG4gICAgICAgICAgICB0aXRsZTogcmVxLmJvZHkudGl0bGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlcS5ib2R5LmNvbnRlbnQsXHJcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZS51cmwsXHJcbiAgICAgICAgICAgIGNsb3VkaW5hcnlfaWQ6IGltYWdlLnB1YmxpY0lkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IEFkZE5ld0Jsb2c9bmV3IEJsb2coZGF0YSk7XHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBjb25zdCBzYXZlZEJsb2c9YXdhaXQgQWRkTmV3QmxvZy5zYXZlKCk7XHJcbiAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgICAgICBzdGF0dXM6MjAxLFxyXG4gICAgICAgICAgICBtZXNzYWdlOlwiQXJ0aWNsZSBBZGRlZCBpbiBCbG9nXCIsXHJcbiAgICAgICAgICAgIGRhdGE6c2F2ZWRCbG9nXHJcbiAgICAgICAgfSk7ICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGRlbGV0QmxvZyhyZXEscmVzKXtcclxuICAgICAgICBjb25zdCBibG9nVG9EZWxldGVJbWFnZSA9IGF3YWl0IEJsb2dzLmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSlcclxuICAgICAgICBjb25zdCBwdWJsaWNJZCA9IGJsb2dUb0RlbGV0ZUltYWdlLmNsb3VkaW5hcnlfaWRcclxuICAgICAgICBhd2FpdCBkZWxldGVJbWFnZShwdWJsaWNJZClcclxuICAgICAgICBCbG9ncy5kZWxldGVPbmUoIHsgX2lkOiByZXEucGFyYW1zLmlkIH0sIChlcnIsIGJsb2cpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFlcnIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkRlbGV0ZWQgU3VjY2Vzc2Z1bGwgXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTpibG9nXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDQwNCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkJsb2cgdG8gRGVsZXRlIE5vdCBGb3VuZFwiLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGZpbmREYXRhKHJlcSxyZXMpe1xyXG4gICAgICAgIGNvbnN0IGJsb2dMaXN0ID0gYXdhaXQgQmxvZy5maW5kKClcclxuICAgICAgICByZXMuc2VuZChcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJMaXN0IG9mIEJsb2dzXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOmJsb2dMaXN0XHJcbiAgICAgICAgICAgIH0pIFxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgdXBkYXRlQmxvZyhyZXEscmVzKXtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdXBsb2FkSW1hZ2UocmVxLmZpbGUucGF0aCwgXCJibG9nX2ltYWdlc1wiKVxyXG4gICAgICAgIGNvbnN0IGJsb2dUb0RlbGV0ZUltYWdlID0gYXdhaXQgQmxvZ3MuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KVxyXG4gICAgICAgIGNvbnN0IHB1YmxpY0lkID0gYmxvZ1RvRGVsZXRlSW1hZ2UuY2xvdWRpbmFyeV9pZFxyXG4gICAgICAgIGF3YWl0IGRlbGV0ZUltYWdlKHB1YmxpY0lkKVxyXG4gICAgICAgIGNvbnN0IGJsb2dEYXRhID0ge1xyXG4gICAgICAgICAgICB0aXRsZSA6IHJlcS5ib2R5LnRpdGxlLFxyXG4gICAgICAgICAgICBpbWFnZSA6IHJlcS5ib2R5LmltYWdlLFxyXG4gICAgICAgICAgICBjb250ZW50IDogcmVxLmJvZHkuY29udGVudCxcclxuICAgICAgICAgICAgY2xvdWRpbmFyeV9pZDogZGF0YS5wdWJsaWNfaWQsXHJcbiAgICAgICAgICAgIGltYWdlOiBkYXRhLnVybCxcclxuICAgICAgICAgICAgZGF0ZSA6IG5ldyBEYXRlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgQmxvZ3MuZmluZE9uZUFuZFVwZGF0ZSggeyBfaWQ6ICByZXEucGFyYW1zLmlkIH0seyAkc2V0OmJsb2dEYXRhIH0seyBuZXc6dHJ1ZSB9LCAoZXJyLGJsb2cpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFlcnIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJCbG9nIHVwZGF0ZWRcIixcclxuICAgICAgICAgICAgICAgICAgICBVcGRhdGVkQmxvZzogYmxvZyxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDA0LFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQmxvZyB0byBVcGRhdGUgbm90IGZvdW5kXCIsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgRmluZEJ5SWQocmVxLHJlcyl7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VhcmNoQmxvZyA9IGF3YWl0IEJsb2cuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KVxyXG4gICAgICAgICAgICByZXMuc2VuZCggcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJZb3VyIEJsb2dzXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOnNlYXJjaEJsb2dcclxuICAgICAgICAgICAgfSkgKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zZW5kKCByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6NDA0LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6XCJCbG9ncyBkb2Vzbid0IGV4aXN0IVwiLFxyXG4gICAgICAgICAgICB9KSBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgXHJcbiAgICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPUJsb2dDb250cm9sbGVyOyJdfQ==