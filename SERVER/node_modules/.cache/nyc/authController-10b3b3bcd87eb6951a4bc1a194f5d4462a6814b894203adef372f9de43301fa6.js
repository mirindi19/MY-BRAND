function cov_2isaczunda(){var path="E:\\andela\\New Andela\\node_mongo_tutorial\\src\\controllers\\authController.js";var hash="0f560628393c19710eb7136bf145bb2be390dd29";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\andela\\New Andela\\node_mongo_tutorial\\src\\controllers\\authController.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:39}},"1":{start:{line:2,column:15},end:{line:2,column:32}},"2":{start:{line:6,column:4},end:{line:6,column:36}},"3":{start:{line:7,column:15},end:{line:7,column:32}},"4":{start:{line:8,column:0},end:{line:8,column:16}},"5":{start:{line:11,column:4},end:{line:49,column:5}},"6":{start:{line:17,column:10},end:{line:17,column:18}},"7":{start:{line:19,column:19},end:{line:19,column:54}},"8":{start:{line:20,column:24},end:{line:22,column:8}},"9":{start:{line:23,column:6},end:{line:23,column:27}},"10":{start:{line:25,column:6},end:{line:43,column:7}},"11":{start:{line:26,column:8},end:{line:29,column:11}},"12":{start:{line:31,column:27},end:{line:37,column:10}},"13":{start:{line:38,column:8},end:{line:42,column:11}},"14":{start:{line:45,column:6},end:{line:48,column:9}},"15":{start:{line:52,column:4},end:{line:114,column:5}},"16":{start:{line:56,column:10},end:{line:56,column:18}},"17":{start:{line:57,column:23},end:{line:59,column:8}},"18":{start:{line:60,column:6},end:{line:60,column:26}},"19":{start:{line:61,column:6},end:{line:108,column:7}},"20":{start:{line:62,column:8},end:{line:65,column:11}},"21":{start:{line:67,column:24},end:{line:67,column:38}},"22":{start:{line:68,column:27},end:{line:68,column:44}},"23":{start:{line:69,column:23},end:{line:69,column:36}},"24":{start:{line:70,column:34},end:{line:70,column:76}},"25":{start:{line:73,column:8},end:{line:107,column:9}},"26":{start:{line:74,column:10},end:{line:101,column:11}},"27":{start:{line:75,column:26},end:{line:78,column:14}},"28":{start:{line:79,column:27},end:{line:79,column:43}},"29":{start:{line:80,column:12},end:{line:83,column:15}},"30":{start:{line:84,column:32},end:{line:84,column:51}},"31":{start:{line:85,column:25},end:{line:85,column:43}},"32":{start:{line:86,column:35},end:{line:86,column:52}},"33":{start:{line:87,column:12},end:{line:95,column:15}},"34":{start:{line:97,column:12},end:{line:100,column:15}},"35":{start:{line:103,column:10},end:{line:106,column:13}},"36":{start:{line:110,column:6},end:{line:113,column:9}},"37":{start:{line:117,column:4},end:{line:145,column:5}},"38":{start:{line:119,column:25},end:{line:121,column:8}},"39":{start:{line:122,column:6},end:{line:124,column:7}},"40":{start:{line:123,column:8},end:{line:123,column:48}},"41":{start:{line:125,column:6},end:{line:127,column:7}},"42":{start:{line:126,column:8},end:{line:126,column:38}},"43":{start:{line:128,column:6},end:{line:130,column:7}},"44":{start:{line:129,column:8},end:{line:129,column:42}},"45":{start:{line:131,column:6},end:{line:133,column:7}},"46":{start:{line:132,column:8},end:{line:132,column:48}},"47":{start:{line:134,column:6},end:{line:134,column:30}},"48":{start:{line:135,column:6},end:{line:139,column:10}},"49":{start:{line:141,column:6},end:{line:144,column:10}},"50":{start:{line:148,column:0},end:{line:148,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:38},end:{line:50,column:3}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:31},end:{line:115,column:3}},line:51},"2":{name:"(anonymous_2)",decl:{start:{line:116,column:2},end:{line:116,column:3}},loc:{start:{line:116,column:32},end:{line:146,column:3}},line:116}},branchMap:{"0":{loc:{start:{line:25,column:6},end:{line:43,column:7}},type:"if",locations:[{start:{line:25,column:6},end:{line:43,column:7}},{start:{line:25,column:6},end:{line:43,column:7}}],line:25},"1":{loc:{start:{line:61,column:6},end:{line:108,column:7}},type:"if",locations:[{start:{line:61,column:6},end:{line:108,column:7}},{start:{line:61,column:6},end:{line:108,column:7}}],line:61},"2":{loc:{start:{line:73,column:8},end:{line:107,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:107,column:9}},{start:{line:73,column:8},end:{line:107,column:9}}],line:73},"3":{loc:{start:{line:74,column:10},end:{line:101,column:11}},type:"if",locations:[{start:{line:74,column:10},end:{line:101,column:11}},{start:{line:74,column:10},end:{line:101,column:11}}],line:74},"4":{loc:{start:{line:122,column:6},end:{line:124,column:7}},type:"if",locations:[{start:{line:122,column:6},end:{line:124,column:7}},{start:{line:122,column:6},end:{line:124,column:7}}],line:122},"5":{loc:{start:{line:125,column:6},end:{line:127,column:7}},type:"if",locations:[{start:{line:125,column:6},end:{line:127,column:7}},{start:{line:125,column:6},end:{line:127,column:7}}],line:125},"6":{loc:{start:{line:128,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:128,column:6},end:{line:130,column:7}},{start:{line:128,column:6},end:{line:130,column:7}}],line:128},"7":{loc:{start:{line:131,column:6},end:{line:133,column:7}},type:"if",locations:[{start:{line:131,column:6},end:{line:133,column:7}},{start:{line:131,column:6},end:{line:133,column:7}}],line:131}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},inputSourceMap:{version:3,names:["User","require","bcrypt","encode","decode","dotenv","config","authController","creatAccount","req","res","Fullname","age","email","password","body","hash","hashSync","checkUser","findOne","user","status","json","message","createDate","create","role","data","error","Login","findUser","dbEmail","dbPassword","dbRole","decreptedPassword","compare","token","maxAge","cookie","httpOnly","decodeToken","emailfromtoken","stastus","update","userupdate","_id","params","id","save","send","module","exports"],sourceRoot:"E:\\andela\\New Andela\\node_mongo_tutorial\\src\\controllers\\",sources:["authController.js"],sourcesContent:["const User =require(\"../models/users\");\r\nconst bcrypt =require(\"bcrypt\");\r\nconst {encode, decode} =require(\"../helper/jwtTokenize\")\r\nconst dotenv=require(\"dotenv\");\r\n\r\ndotenv.config();\r\nclass authController{\r\n    static async creatAccount(req, res){\r\n        try {\r\n            const {Fullname,age,email,password}=req.body;\r\n            // console.log(\"email:\",email);\r\n            const hash = await bcrypt.hashSync(password, 10);\r\n            const checkUser = await User.findOne({email});\r\n            req.user=checkUser\r\n            // console.log(\"this:\",checkUser)\r\n            if(req.user){\r\n                return res.status(409).json({\r\n                    status:409,\r\n                    message:\"Email already exist\"\r\n                    \r\n                })\r\n            }\r\n            else{\r\n                const createDate = await User.create({\r\n                 Fullname,\r\n                 age,\r\n                 email,\r\n                 role:\"user\",\r\n                 password:hash\r\n                });\r\n               return res.status(200).json({\r\n                    status: 200,\r\n                    message: \"Account created\",\r\n                    data:createDate\r\n                })\r\n\r\n            }\r\n        } catch (error) {\r\n            res.status(500).json({\r\n                status:500,\r\n                message:\"server problem:\" + error.message\r\n            })\r\n            \r\n        }\r\n    }\r\n\r\n    static async Login(req, res){\r\n        try {\r\n            const {email,password}=req.body\r\n            const findUser = await User.findOne({email})\r\n            req.user=findUser\r\n            if(!findUser){\r\n                res.status(404).json({\r\n                    status: 404,\r\n                    message:\"Account don't exit\"\r\n                })\r\n            }\r\n            else{\r\n                const dbEmail = req.user.email\r\n                const dbPassword = req.user.password\r\n                const dbRole= req.user.role\r\n                const decreptedPassword = await bcrypt.compare(password, dbPassword)\r\n                // console.log(\"dec\",decreptedPassword)\r\n                // console.log(dbEmail,dbPassword);\r\n                if(dbEmail == email){\r\n                    if(decreptedPassword){\r\n                        const token=await encode({\r\n                            email,\r\n                            dbRole   \r\n                        });\r\n                        const maxAge=3*24*60*60\r\n                        res.cookie('jwt',token,{httpOnly:true,maxAge:maxAge *1000})\r\n                        const decodeToken = await decode(token);\r\n                        const role = decodeToken.dbRole\r\n                        const emailfromtoken =decodeToken.email\r\n                       \r\n                       return res.status(200).json({\r\n                            stastus: 200,\r\n                            message: \"Login succefull\",\r\n                            data:{\r\n                                role,\r\n                                emailfromtoken,\r\n                                token\r\n                            }\r\n                        })\r\n                    }else{\r\n                        res.status(400).json({\r\n                            stastus: 400,\r\n                            message:\"Wrong Password\"\r\n                        })\r\n                    }\r\n                }else{\r\n                    res.status(400).json({\r\n                        stastus: 400,\r\n                        message:\"Wrong Email\"\r\n                    })\r\n                }\r\n            }\r\n            \r\n        } catch (error) {\r\n            res.status(500).json({\r\n                stastus: 500,\r\n                message:\"server problem\" +error.message\r\n            })\r\n        }\r\n    }\r\n\r\n    static async update(req,res){\r\n        try {\r\n            // const hash = await bcrypt.hashSync(password, 10);\r\n            const userupdate = await User.findOne({ _id: req.params.id })\r\n            \r\n            if (req.body.Fullname) {\r\n                userupdate.Fullname = req.body.Fullname\r\n            }\r\n    \r\n            if (req.body.age) {\r\n                userupdate.age = req.body.age\r\n            }\r\n            if (req.body.email) {\r\n                userupdate.email = req.body.email\r\n            }\r\n            if (req.body.password) {\r\n                userupdate.password = req.body.password\r\n                \r\n            }\r\n           \r\n\r\n            await userupdate.save()\r\n            res.send( res.status(200).json({\r\n                status:200,\r\n                message:\"Account Updated Successfull\",\r\n                data: userupdate\r\n            }) \r\n            )\r\n        } catch {\r\n            res.send( res.status(404).json({\r\n                status:404,\r\n                error:\"Account doesn't exist!\",\r\n            }) \r\n            )\r\n        }\r\n    }\r\n}\r\nmodule.exports=authController;"],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0f560628393c19710eb7136bf145bb2be390dd29"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2isaczunda=function(){return actualCoverage;};}return actualCoverage;}cov_2isaczunda();const User=(cov_2isaczunda().s[0]++,require("../models/users"));const bcrypt=(cov_2isaczunda().s[1]++,require("bcrypt"));const{encode,decode}=(cov_2isaczunda().s[2]++,require("../helper/jwtTokenize"));const dotenv=(cov_2isaczunda().s[3]++,require("dotenv"));cov_2isaczunda().s[4]++;dotenv.config();class authController{static async creatAccount(req,res){cov_2isaczunda().f[0]++;cov_2isaczunda().s[5]++;try{const{Fullname,age,email,password}=(cov_2isaczunda().s[6]++,req.body);// console.log("email:",email);
const hash=(cov_2isaczunda().s[7]++,await bcrypt.hashSync(password,10));const checkUser=(cov_2isaczunda().s[8]++,await User.findOne({email}));cov_2isaczunda().s[9]++;req.user=checkUser;// console.log("this:",checkUser)
cov_2isaczunda().s[10]++;if(req.user){cov_2isaczunda().b[0][0]++;cov_2isaczunda().s[11]++;return res.status(409).json({status:409,message:"Email already exist"});}else{cov_2isaczunda().b[0][1]++;const createDate=(cov_2isaczunda().s[12]++,await User.create({Fullname,age,email,role:"user",password:hash}));cov_2isaczunda().s[13]++;return res.status(200).json({status:200,message:"Account created",data:createDate});}}catch(error){cov_2isaczunda().s[14]++;res.status(500).json({status:500,message:"server problem:"+error.message});}}static async Login(req,res){cov_2isaczunda().f[1]++;cov_2isaczunda().s[15]++;try{const{email,password}=(cov_2isaczunda().s[16]++,req.body);const findUser=(cov_2isaczunda().s[17]++,await User.findOne({email}));cov_2isaczunda().s[18]++;req.user=findUser;cov_2isaczunda().s[19]++;if(!findUser){cov_2isaczunda().b[1][0]++;cov_2isaczunda().s[20]++;res.status(404).json({status:404,message:"Account don't exit"});}else{cov_2isaczunda().b[1][1]++;const dbEmail=(cov_2isaczunda().s[21]++,req.user.email);const dbPassword=(cov_2isaczunda().s[22]++,req.user.password);const dbRole=(cov_2isaczunda().s[23]++,req.user.role);const decreptedPassword=(cov_2isaczunda().s[24]++,await bcrypt.compare(password,dbPassword));// console.log("dec",decreptedPassword)
// console.log(dbEmail,dbPassword);
cov_2isaczunda().s[25]++;if(dbEmail==email){cov_2isaczunda().b[2][0]++;cov_2isaczunda().s[26]++;if(decreptedPassword){cov_2isaczunda().b[3][0]++;const token=(cov_2isaczunda().s[27]++,await encode({email,dbRole}));const maxAge=(cov_2isaczunda().s[28]++,3*24*60*60);cov_2isaczunda().s[29]++;res.cookie('jwt',token,{httpOnly:true,maxAge:maxAge*1000});const decodeToken=(cov_2isaczunda().s[30]++,await decode(token));const role=(cov_2isaczunda().s[31]++,decodeToken.dbRole);const emailfromtoken=(cov_2isaczunda().s[32]++,decodeToken.email);cov_2isaczunda().s[33]++;return res.status(200).json({stastus:200,message:"Login succefull",data:{role,emailfromtoken,token}});}else{cov_2isaczunda().b[3][1]++;cov_2isaczunda().s[34]++;res.status(400).json({stastus:400,message:"Wrong Password"});}}else{cov_2isaczunda().b[2][1]++;cov_2isaczunda().s[35]++;res.status(400).json({stastus:400,message:"Wrong Email"});}}}catch(error){cov_2isaczunda().s[36]++;res.status(500).json({stastus:500,message:"server problem"+error.message});}}static async update(req,res){cov_2isaczunda().f[2]++;cov_2isaczunda().s[37]++;try{// const hash = await bcrypt.hashSync(password, 10);
const userupdate=(cov_2isaczunda().s[38]++,await User.findOne({_id:req.params.id}));cov_2isaczunda().s[39]++;if(req.body.Fullname){cov_2isaczunda().b[4][0]++;cov_2isaczunda().s[40]++;userupdate.Fullname=req.body.Fullname;}else{cov_2isaczunda().b[4][1]++;}cov_2isaczunda().s[41]++;if(req.body.age){cov_2isaczunda().b[5][0]++;cov_2isaczunda().s[42]++;userupdate.age=req.body.age;}else{cov_2isaczunda().b[5][1]++;}cov_2isaczunda().s[43]++;if(req.body.email){cov_2isaczunda().b[6][0]++;cov_2isaczunda().s[44]++;userupdate.email=req.body.email;}else{cov_2isaczunda().b[6][1]++;}cov_2isaczunda().s[45]++;if(req.body.password){cov_2isaczunda().b[7][0]++;cov_2isaczunda().s[46]++;userupdate.password=req.body.password;}else{cov_2isaczunda().b[7][1]++;}cov_2isaczunda().s[47]++;await userupdate.save();cov_2isaczunda().s[48]++;res.send(res.status(200).json({status:200,message:"Account Updated Successfull",data:userupdate}));}catch{cov_2isaczunda().s[49]++;res.send(res.status(404).json({status:404,error:"Account doesn't exist!"}));}}}cov_2isaczunda().s[50]++;module.exports=authController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImJjcnlwdCIsImVuY29kZSIsImRlY29kZSIsImRvdGVudiIsImNvbmZpZyIsImF1dGhDb250cm9sbGVyIiwiY3JlYXRBY2NvdW50IiwicmVxIiwicmVzIiwiRnVsbG5hbWUiLCJhZ2UiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsImhhc2giLCJoYXNoU3luYyIsImNoZWNrVXNlciIsImZpbmRPbmUiLCJ1c2VyIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJjcmVhdGVEYXRlIiwiY3JlYXRlIiwicm9sZSIsImRhdGEiLCJlcnJvciIsIkxvZ2luIiwiZmluZFVzZXIiLCJkYkVtYWlsIiwiZGJQYXNzd29yZCIsImRiUm9sZSIsImRlY3JlcHRlZFBhc3N3b3JkIiwiY29tcGFyZSIsInRva2VuIiwibWF4QWdlIiwiY29va2llIiwiaHR0cE9ubHkiLCJkZWNvZGVUb2tlbiIsImVtYWlsZnJvbXRva2VuIiwic3Rhc3R1cyIsInVwZGF0ZSIsInVzZXJ1cGRhdGUiLCJfaWQiLCJwYXJhbXMiLCJpZCIsInNhdmUiLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRTpcXGFuZGVsYVxcTmV3IEFuZGVsYVxcbm9kZV9tb25nb190dXRvcmlhbFxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJhdXRoQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVc2VyID1yZXF1aXJlKFwiLi4vbW9kZWxzL3VzZXJzXCIpO1xyXG5jb25zdCBiY3J5cHQgPXJlcXVpcmUoXCJiY3J5cHRcIik7XHJcbmNvbnN0IHtlbmNvZGUsIGRlY29kZX0gPXJlcXVpcmUoXCIuLi9oZWxwZXIvand0VG9rZW5pemVcIilcclxuY29uc3QgZG90ZW52PXJlcXVpcmUoXCJkb3RlbnZcIik7XHJcblxyXG5kb3RlbnYuY29uZmlnKCk7XHJcbmNsYXNzIGF1dGhDb250cm9sbGVye1xyXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0QWNjb3VudChyZXEsIHJlcyl7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qge0Z1bGxuYW1lLGFnZSxlbWFpbCxwYXNzd29yZH09cmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZW1haWw6XCIsZW1haWwpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCAxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7ZW1haWx9KTtcclxuICAgICAgICAgICAgcmVxLnVzZXI9Y2hlY2tVc2VyXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwidGhpczpcIixjaGVja1VzZXIpXHJcbiAgICAgICAgICAgIGlmKHJlcS51c2VyKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOjQwOSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlwiRW1haWwgYWxyZWFkeSBleGlzdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjcmVhdGVEYXRlID0gYXdhaXQgVXNlci5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgIEZ1bGxuYW1lLFxyXG4gICAgICAgICAgICAgICAgIGFnZSxcclxuICAgICAgICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgICAgICByb2xlOlwidXNlclwiLFxyXG4gICAgICAgICAgICAgICAgIHBhc3N3b3JkOmhhc2hcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQWNjb3VudCBjcmVhdGVkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTpjcmVhdGVEYXRlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czo1MDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwic2VydmVyIHByb2JsZW06XCIgKyBlcnJvci5tZXNzYWdlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgTG9naW4ocmVxLCByZXMpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtlbWFpbCxwYXNzd29yZH09cmVxLmJvZHlcclxuICAgICAgICAgICAgY29uc3QgZmluZFVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsfSlcclxuICAgICAgICAgICAgcmVxLnVzZXI9ZmluZFVzZXJcclxuICAgICAgICAgICAgaWYoIWZpbmRVc2VyKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDQwNCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlwiQWNjb3VudCBkb24ndCBleGl0XCJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRiRW1haWwgPSByZXEudXNlci5lbWFpbFxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGJQYXNzd29yZCA9IHJlcS51c2VyLnBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYlJvbGU9IHJlcS51c2VyLnJvbGVcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlY3JlcHRlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGRiUGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRlY1wiLGRlY3JlcHRlZFBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGJFbWFpbCxkYlBhc3N3b3JkKTtcclxuICAgICAgICAgICAgICAgIGlmKGRiRW1haWwgPT0gZW1haWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRlY3JlcHRlZFBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW49YXdhaXQgZW5jb2RlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJSb2xlICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhBZ2U9MyoyNCo2MCo2MFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuY29va2llKCdqd3QnLHRva2VuLHtodHRwT25seTp0cnVlLG1heEFnZTptYXhBZ2UgKjEwMDB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVUb2tlbiA9IGF3YWl0IGRlY29kZSh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvbGUgPSBkZWNvZGVUb2tlbi5kYlJvbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWxmcm9tdG9rZW4gPWRlY29kZVRva2VuLmVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXN0dXM6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTG9naW4gc3VjY2VmdWxsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsZnJvbXRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXN0dXM6IDQwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJXcm9uZyBQYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFzdHVzOiA0MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJXcm9uZyBFbWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdGFzdHVzOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwic2VydmVyIHByb2JsZW1cIiArZXJyb3IubWVzc2FnZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgdXBkYXRlKHJlcSxyZXMpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEwKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlcnVwZGF0ZSA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHJlcS5ib2R5LkZ1bGxuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VydXBkYXRlLkZ1bGxuYW1lID0gcmVxLmJvZHkuRnVsbG5hbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChyZXEuYm9keS5hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJ1cGRhdGUuYWdlID0gcmVxLmJvZHkuYWdlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlcS5ib2R5LmVtYWlsKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VydXBkYXRlLmVtYWlsID0gcmVxLmJvZHkuZW1haWxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJ1cGRhdGUucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHVzZXJ1cGRhdGUuc2F2ZSgpXHJcbiAgICAgICAgICAgIHJlcy5zZW5kKCByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6MjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIkFjY291bnQgVXBkYXRlZCBTdWNjZXNzZnVsbFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdXNlcnVwZGF0ZVxyXG4gICAgICAgICAgICB9KSBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICByZXMuc2VuZCggcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOjQwNCxcclxuICAgICAgICAgICAgICAgIGVycm9yOlwiQWNjb3VudCBkb2Vzbid0IGV4aXN0IVwiLFxyXG4gICAgICAgICAgICB9KSBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cz1hdXRoQ29udHJvbGxlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBRUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQ3RDLE1BQU1DLE1BQU0sR0FBRUQsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUMvQixNQUFNO0VBQUNFLE1BQU07RUFBRUM7QUFBTSxDQUFDLEdBQUVILE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUN4RCxNQUFNSSxNQUFNLEdBQUNKLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFFOUJJLE1BQU0sQ0FBQ0MsTUFBTSxFQUFFO0FBQ2YsTUFBTUMsY0FBYztFQUNoQixhQUFhQyxZQUFZLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFDO0lBQy9CLElBQUk7TUFDQSxNQUFNO1FBQUNDLFFBQVE7UUFBQ0MsR0FBRztRQUFDQyxLQUFLO1FBQUNDO01BQVEsQ0FBQyxHQUFDTCxHQUFHLENBQUNNLElBQUk7TUFDNUM7TUFDQSxNQUFNQyxJQUFJLEdBQUcsTUFBTWQsTUFBTSxDQUFDZSxRQUFRLENBQUNI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
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQzNCRCxNQUFNLENBQUMsR0FBRyxDQUNWRSxPQUFPLENBQUMsNkJBQTZCLENBQ3JDSSxJQUFJLENBQUVpQixVQUNWLENBQUMsQ0FBQyxDQUNELENBQ0wsQ0FBRSxLQUFNLDBCQUNKakMsR0FBRyxDQUFDc0MsSUFBSSxDQUFFdEMsR0FBRyxDQUFDVSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUMzQkQsTUFBTSxDQUFDLEdBQUcsQ0FDVk8sS0FBSyxDQUFDLHdCQUNWLENBQUMsQ0FBQyxDQUNELENBQ0wsQ0FDSixDQUNKLDBCQUNBc0IsTUFBTSxDQUFDQyxPQUFPLENBQUMzQyxjQUFjIiwibmFtZXMiOlsicGFzc3dvcmQiLCJVc2VyIiwicmVxdWlyZSIsImJjcnlwdCIsImVuY29kZSIsImRlY29kZSIsImRvdGVudiIsImNvbmZpZyIsImF1dGhDb250cm9sbGVyIiwiY3JlYXRBY2NvdW50IiwicmVxIiwicmVzIiwiRnVsbG5hbWUiLCJhZ2UiLCJlbWFpbCIsImJvZHkiLCJoYXNoIiwiaGFzaFN5bmMiLCJjaGVja1VzZXIiLCJmaW5kT25lIiwidXNlciIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiY3JlYXRlRGF0ZSIsImNyZWF0ZSIsInJvbGUiLCJkYXRhIiwiZXJyb3IiLCJMb2dpbiIsImZpbmRVc2VyIiwiZGJFbWFpbCIsImRiUGFzc3dvcmQiLCJkYlJvbGUiLCJkZWNyZXB0ZWRQYXNzd29yZCIsImNvbXBhcmUiLCJ0b2tlbiIsIm1heEFnZSIsImNvb2tpZSIsImh0dHBPbmx5IiwiZGVjb2RlVG9rZW4iLCJlbWFpbGZyb210b2tlbiIsInN0YXN0dXMiLCJ1cGRhdGUiLCJ1c2VydXBkYXRlIiwiX2lkIiwicGFyYW1zIiwiaWQiLCJzYXZlIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkU6XFxhbmRlbGFcXE5ldyBBbmRlbGFcXG5vZGVfbW9uZ29fdHV0b3JpYWxcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiYXV0aENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9cmVxdWlyZShcIi4uL21vZGVscy91c2Vyc1wiKTtcclxuY29uc3QgYmNyeXB0ID1yZXF1aXJlKFwiYmNyeXB0XCIpO1xyXG5jb25zdCB7ZW5jb2RlLCBkZWNvZGV9ID1yZXF1aXJlKFwiLi4vaGVscGVyL2p3dFRva2VuaXplXCIpXHJcbmNvbnN0IGRvdGVudj1yZXF1aXJlKFwiZG90ZW52XCIpO1xyXG5cclxuZG90ZW52LmNvbmZpZygpO1xyXG5jbGFzcyBhdXRoQ29udHJvbGxlcntcclxuICAgIHN0YXRpYyBhc3luYyBjcmVhdEFjY291bnQocmVxLCByZXMpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtGdWxsbmFtZSxhZ2UsZW1haWwscGFzc3dvcmR9PXJlcS5ib2R5O1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImVtYWlsOlwiLGVtYWlsKTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgMTApO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsfSk7XHJcbiAgICAgICAgICAgIHJlcS51c2VyPWNoZWNrVXNlclxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRoaXM6XCIsY2hlY2tVc2VyKVxyXG4gICAgICAgICAgICBpZihyZXEudXNlcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czo0MDksXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcIkVtYWlsIGFscmVhZHkgZXhpc3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3JlYXRlRGF0ZSA9IGF3YWl0IFVzZXIuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgICBGdWxsbmFtZSxcclxuICAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgcm9sZTpcInVzZXJcIixcclxuICAgICAgICAgICAgICAgICBwYXNzd29yZDpoYXNoXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFjY291bnQgY3JlYXRlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6Y3JlYXRlRGF0ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6NTAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcInNlcnZlciBwcm9ibGVtOlwiICsgZXJyb3IubWVzc2FnZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIExvZ2luKHJlcSwgcmVzKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB7ZW1haWwscGFzc3dvcmR9PXJlcS5ib2R5XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbmRVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtlbWFpbH0pXHJcbiAgICAgICAgICAgIHJlcS51c2VyPWZpbmRVc2VyXHJcbiAgICAgICAgICAgIGlmKCFmaW5kVXNlcil7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiA0MDQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcIkFjY291bnQgZG9uJ3QgZXhpdFwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYkVtYWlsID0gcmVxLnVzZXIuZW1haWxcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRiUGFzc3dvcmQgPSByZXEudXNlci5wYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGJSb2xlPSByZXEudXNlci5yb2xlXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNyZXB0ZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBkYlBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJkZWNcIixkZWNyZXB0ZWRQYXNzd29yZClcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRiRW1haWwsZGJQYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihkYkVtYWlsID09IGVtYWlsKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihkZWNyZXB0ZWRQYXNzd29yZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuPWF3YWl0IGVuY29kZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiUm9sZSAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4QWdlPTMqMjQqNjAqNjBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmNvb2tpZSgnand0Jyx0b2tlbix7aHR0cE9ubHk6dHJ1ZSxtYXhBZ2U6bWF4QWdlICoxMDAwfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVjb2RlVG9rZW4gPSBhd2FpdCBkZWNvZGUodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb2xlID0gZGVjb2RlVG9rZW4uZGJSb2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsZnJvbXRva2VuID1kZWNvZGVUb2tlbi5lbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFzdHVzOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxvZ2luIHN1Y2NlZnVsbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbGZyb210b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFzdHVzOiA0MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlwiV3JvbmcgUGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Rhc3R1czogNDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlwiV3JvbmcgRW1haWxcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3Rhc3R1czogNTAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcInNlcnZlciBwcm9ibGVtXCIgK2Vycm9yLm1lc3NhZ2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIHVwZGF0ZShyZXEscmVzKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBjb25zdCBoYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCAxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJ1cGRhdGUgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChyZXEuYm9keS5GdWxsbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdXNlcnVwZGF0ZS5GdWxsbmFtZSA9IHJlcS5ib2R5LkZ1bGxuYW1lXHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAocmVxLmJvZHkuYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VydXBkYXRlLmFnZSA9IHJlcS5ib2R5LmFnZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXEuYm9keS5lbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgdXNlcnVwZGF0ZS5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlcS5ib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VydXBkYXRlLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmRcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBhd2FpdCB1c2VydXBkYXRlLnNhdmUoKVxyXG4gICAgICAgICAgICByZXMuc2VuZCggcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJBY2NvdW50IFVwZGF0ZWQgU3VjY2Vzc2Z1bGxcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHVzZXJ1cGRhdGVcclxuICAgICAgICAgICAgfSkgXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgcmVzLnNlbmQoIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czo0MDQsXHJcbiAgICAgICAgICAgICAgICBlcnJvcjpcIkFjY291bnQgZG9lc24ndCBleGlzdCFcIixcclxuICAgICAgICAgICAgfSkgXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHM9YXV0aENvbnRyb2xsZXI7Il19